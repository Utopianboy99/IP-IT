{
  "stats": {
    "suites": 5,
    "tests": 8,
    "passes": 8,
    "pending": 0,
    "failures": 0,
    "start": "2025-10-19T18:27:51.845Z",
    "end": "2025-10-19T18:27:53.886Z",
    "duration": 2041,
    "testsRegistered": 8,
    "passPercent": 100,
    "pendingPercent": 0,
    "other": 0,
    "hasOther": false,
    "skipped": 0,
    "hasSkipped": false
  },
  "results": [
    {
      "uuid": "4fc2368a-0ebd-4504-bf17-d2f82563e001",
      "title": "",
      "fullFile": "",
      "file": "",
      "beforeHooks": [
        {
          "title": "\"before all\" hook in \"{root}\"",
          "fullTitle": "\"before all\" hook in \"{root}\"",
          "timedOut": false,
          "duration": 1517,
          "state": null,
          "speed": null,
          "pass": false,
          "fail": false,
          "pending": false,
          "context": null,
          "code": "await connectToMongo();\ndb = getDb();\n// Clean database\nawait db.collection(\"Users\").deleteMany({});\nawait db.collection(\"material-courses\").deleteMany({});\nawait db.collection(\"forum-posts\").deleteMany({});\n// Seed test admin user\nawait db.collection(\"Users\").insertOne({\n  ...testUser,\n  createdAt: new Date()\n});",
          "err": {},
          "uuid": "0e9ce3e8-66a5-4fef-8fd7-c1a2170e6bc3",
          "parentUUID": "4fc2368a-0ebd-4504-bf17-d2f82563e001",
          "isHook": true,
          "skipped": false
        }
      ],
      "afterHooks": [
        {
          "title": "\"after all\" hook in \"{root}\"",
          "fullTitle": "\"after all\" hook in \"{root}\"",
          "timedOut": false,
          "duration": 124,
          "state": null,
          "speed": null,
          "pass": false,
          "fail": false,
          "pending": false,
          "context": null,
          "code": "await db.collection(\"Users\").deleteMany({});\nawait db.collection(\"material-courses\").deleteMany({});\nawait db.collection(\"forum-posts\").deleteMany({});",
          "err": {},
          "uuid": "404f6450-ec19-4e05-88ec-4025a5c85d61",
          "parentUUID": "4fc2368a-0ebd-4504-bf17-d2f82563e001",
          "isHook": true,
          "skipped": false
        }
      ],
      "tests": [],
      "suites": [
        {
          "uuid": "68a12be8-a385-48de-a57c-8d4e15ac1646",
          "title": "âœ… Cognition Berries API",
          "fullFile": "C:\\Users\\madnh\\OneDrive\\Desktop\\Development\\Cognition Berries\\server\\tests\\api.test.js",
          "file": "\\tests\\api.test.js",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "GET / â†’ should return welcome message",
              "fullTitle": "âœ… Cognition Berries API GET / â†’ should return welcome message",
              "timedOut": false,
              "duration": 36,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const res = await request(server).get(\"/\");\nexpect(res.status).to.equal(200);\nexpect(res.body).to.have.property(\"message\", \"Cognition Berries API\");",
              "err": {},
              "uuid": "49a4dda7-81c7-467b-a03a-557a4a54ab1a",
              "parentUUID": "68a12be8-a385-48de-a57c-8d4e15ac1646",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [
            {
              "uuid": "05c887d7-871a-4267-b5f8-4348fe26ec2d",
              "title": "ðŸ§‘â€ðŸ’» User Routes",
              "fullFile": "C:\\Users\\madnh\\OneDrive\\Desktop\\Development\\Cognition Berries\\server\\tests\\api.test.js",
              "file": "\\tests\\api.test.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "POST /users â†’ should register a new user",
                  "fullTitle": "âœ… Cognition Berries API ðŸ§‘â€ðŸ’» User Routes POST /users â†’ should register a new user",
                  "timedOut": false,
                  "duration": 67,
                  "state": "passed",
                  "speed": "medium",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const res = await request(server)\n  .post(\"/users\")\n  .send({\n    uid: `user-${Date.now()}`,\n    email: `user${Date.now()}@example.com`,\n    name: \"New User\"\n  });\nexpect(res.status).to.equal(201);\nexpect(res.body).to.have.property(\"message\", \"User registered\");",
                  "err": {},
                  "uuid": "db356014-f24b-4ba6-a6b6-c667477575be",
                  "parentUUID": "05c887d7-871a-4267-b5f8-4348fe26ec2d",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "GET /me â†’ should get logged-in user's profile",
                  "fullTitle": "âœ… Cognition Berries API ðŸ§‘â€ðŸ’» User Routes GET /me â†’ should get logged-in user's profile",
                  "timedOut": false,
                  "duration": 45,
                  "state": "passed",
                  "speed": "medium",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const res = await withAuth(request(server).get(\"/me\"));\nexpect(res.status).to.equal(200);\nexpect(res.body).to.have.property(\"uid\", testUser.uid);",
                  "err": {},
                  "uuid": "eb14c88c-4390-4d88-9d48-2fa8fde385d8",
                  "parentUUID": "05c887d7-871a-4267-b5f8-4348fe26ec2d",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "db356014-f24b-4ba6-a6b6-c667477575be",
                "eb14c88c-4390-4d88-9d48-2fa8fde385d8"
              ],
              "failures": [],
              "pending": [],
              "skipped": [],
              "duration": 112,
              "root": false,
              "rootEmpty": false,
              "_timeout": 2000
            },
            {
              "uuid": "3e5aa8f6-412a-4867-aac6-cd4421ce9d8a",
              "title": "ðŸ“š Courses Routes (CRUD)",
              "fullFile": "C:\\Users\\madnh\\OneDrive\\Desktop\\Development\\Cognition Berries\\server\\tests\\api.test.js",
              "file": "\\tests\\api.test.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "POST /courses â†’ create course",
                  "fullTitle": "âœ… Cognition Berries API ðŸ“š Courses Routes (CRUD) POST /courses â†’ create course",
                  "timedOut": false,
                  "duration": 79,
                  "state": "passed",
                  "speed": "slow",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const res = await withAuth(\n  request(server).post(\"/courses\")\n).send({\n  title: \"Test Course\",\n  description: \"Course for testing\"\n});\nexpect(res.status).to.equal(201);\ncourseId = res.body._id;",
                  "err": {},
                  "uuid": "1ed8e88d-06fa-4cab-9847-2460b93c06ab",
                  "parentUUID": "3e5aa8f6-412a-4867-aac6-cd4421ce9d8a",
                  "isHook": false,
                  "skipped": false
                },
                {
                  "title": "GET /courses â†’ should list all courses",
                  "fullTitle": "âœ… Cognition Berries API ðŸ“š Courses Routes (CRUD) GET /courses â†’ should list all courses",
                  "timedOut": false,
                  "duration": 40,
                  "state": "passed",
                  "speed": "medium",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const res = await request(server).get(\"/courses\");\nexpect(res.status).to.equal(200);\nexpect(res.body).to.be.an(\"array\");",
                  "err": {},
                  "uuid": "daf169ee-1a11-4c6e-a842-18385afe34c5",
                  "parentUUID": "3e5aa8f6-412a-4867-aac6-cd4421ce9d8a",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "1ed8e88d-06fa-4cab-9847-2460b93c06ab",
                "daf169ee-1a11-4c6e-a842-18385afe34c5"
              ],
              "failures": [],
              "pending": [],
              "skipped": [],
              "duration": 119,
              "root": false,
              "rootEmpty": false,
              "_timeout": 2000
            },
            {
              "uuid": "a2d8bd53-f0c7-4743-8d38-1eaf26e983a5",
              "title": "ðŸ’¬ Forum Post Routes",
              "fullFile": "C:\\Users\\madnh\\OneDrive\\Desktop\\Development\\Cognition Berries\\server\\tests\\api.test.js",
              "file": "\\tests\\api.test.js",
              "beforeHooks": [],
              "afterHooks": [],
              "tests": [
                {
                  "title": "POST /forum-posts â†’ create forum post",
                  "fullTitle": "âœ… Cognition Berries API ðŸ’¬ Forum Post Routes POST /forum-posts â†’ create forum post",
                  "timedOut": false,
                  "duration": 46,
                  "state": "passed",
                  "speed": "medium",
                  "pass": true,
                  "fail": false,
                  "pending": false,
                  "context": null,
                  "code": "const res = await withAuth(\n  request(server).post(\"/forum-posts\")\n).send({\n  title: \"Hello Forum\",\n  content: \"Testing forum post\",\n  uid: testUser.uid // âœ… ensures ownership\n});\npostId = res.body._id;\nexpect(res.status).to.equal(201);",
                  "err": {},
                  "uuid": "6d931450-2471-4920-9723-f1eb1d676c26",
                  "parentUUID": "a2d8bd53-f0c7-4743-8d38-1eaf26e983a5",
                  "isHook": false,
                  "skipped": false
                }
              ],
              "suites": [],
              "passes": [
                "6d931450-2471-4920-9723-f1eb1d676c26"
              ],
              "failures": [],
              "pending": [],
              "skipped": [],
              "duration": 46,
              "root": false,
              "rootEmpty": false,
              "_timeout": 2000
            }
          ],
          "passes": [
            "49a4dda7-81c7-467b-a03a-557a4a54ab1a"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 36,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        },
        {
          "uuid": "528bfeb4-9e8b-4dfe-848b-16af9a5a23b7",
          "title": "MongoDB Test Setup",
          "fullFile": "C:\\Users\\madnh\\OneDrive\\Desktop\\Development\\Cognition Berries\\server\\tests\\setup.test.js",
          "file": "\\tests\\setup.test.js",
          "beforeHooks": [
            {
              "title": "\"before all\" hook in \"MongoDB Test Setup\"",
              "fullTitle": "MongoDB Test Setup \"before all\" hook in \"MongoDB Test Setup\"",
              "timedOut": false,
              "duration": 0,
              "state": null,
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// ensure NODE_ENV is 'test' so server doesn't auto-connect or exit\nprocess.env.NODE_ENV = process.env.NODE_ENV || \"test\";\n// Connect to mongo using exported helper\nawait connectToMongo();\ndb = getDb();",
              "err": {},
              "uuid": "2e64dead-941e-489d-a128-c7c276248ce8",
              "parentUUID": "528bfeb4-9e8b-4dfe-848b-16af9a5a23b7",
              "isHook": true,
              "skipped": false
            }
          ],
          "afterHooks": [],
          "tests": [
            {
              "title": "should have Users collection",
              "fullTitle": "MongoDB Test Setup should have Users collection",
              "timedOut": false,
              "duration": 35,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const collections = await db.listCollections().toArray();\nconst names = collections.map(c => c.name);\nexpect(names).to.include(\"Users\");",
              "err": {},
              "uuid": "806f8f26-73fe-4d63-94dd-8d288e90f4b5",
              "parentUUID": "528bfeb4-9e8b-4dfe-848b-16af9a5a23b7",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "should be able to insert a test user",
              "fullTitle": "MongoDB Test Setup should be able to insert a test user",
              "timedOut": false,
              "duration": 39,
              "state": "passed",
              "speed": "medium",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const user = { name: \"Test User\", email: `test+${Date.now()}@example.com` };\nconst result = await db.collection(\"Users\").insertOne(user);\nexpect(result.insertedId).to.exist;",
              "err": {},
              "uuid": "fd884b72-220f-4ddf-a794-9e73ee43c2d0",
              "parentUUID": "528bfeb4-9e8b-4dfe-848b-16af9a5a23b7",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "806f8f26-73fe-4d63-94dd-8d288e90f4b5",
            "fd884b72-220f-4ddf-a794-9e73ee43c2d0"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 74,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        }
      ],
      "passes": [],
      "failures": [],
      "pending": [],
      "skipped": [],
      "duration": 0,
      "root": true,
      "rootEmpty": true,
      "_timeout": 2000
    }
  ],
  "meta": {
    "mocha": {
      "version": "11.7.4"
    },
    "mochawesome": {
      "options": {
        "quiet": false,
        "reportFilename": "mochawesome",
        "saveHtml": true,
        "saveJson": true,
        "consoleReporter": "spec",
        "useInlineDiffs": false,
        "code": true
      },
      "version": "7.1.4"
    },
    "marge": {
      "options": null,
      "version": "6.3.0"
    }
  }
}